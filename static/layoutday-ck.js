(function(){"use strict";var e=document;window.layOutDay=function(t){e.getElementById("calendar-inner").innerHTML="";t.sort(function(e,t){return e.start>t.start?1:e.start<t.start?-1:0});var n,r,i,s,o,u,a,f,l=0,c=1,h=1,p=600,v=p,m=[],g=[],y=[];for(i in t)if(t.hasOwnProperty(i)){r=t[i];r.id=c;y[r.id]=r;c++;if(g.length>0){for(s=0,a=g.length;s<a;s++){if(g[s]<r.start){f="r";l=s;break}f="a"}if(f==="a"){g.push(r.end);r.slot=g.length-1}else if(f==="r")if(r.start>g[g.length-1]){v=p/g.length;for(o=h;o<r.id;o++){y[o].width=v;h=o+1}g.length=l;g.push(r.end);y[r.id].width=p-v*l;y[r.id].slot=l}else{g[l]=r.end;y[r.id].width=v;y[r.id].slot=l}}else{g.push(r.end);y[r.id]=t[0];y[r.id].slot=0}}v=p/g.length;for(o=h;o<=r.id;o++)y[o].width=v;for(s=0,a=t.length;s<a;s++){r=t[s];m.push({id:r.id,start:r.start,end:r.end,height:r.end-r.start,width:r.width,top:r.start,left:r.width*r.slot})}n=e.createDocumentFragment();for(u in m)if(m.hasOwnProperty(u)){r=m[u];n.appendChild(window.renderEvent(r))}e.getElementById("calendar-inner").appendChild(n)}})();